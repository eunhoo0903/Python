## 04-1 함수

파이썬에서 함수를 이해하는 것은 매우 중요하다.

## 함수란 무엇인가?

함수란 입력값을 가지고 어떤 일을 수행한 후 그 결과물을 내어 놓는 것이 바로 함수가 하는 일이다.

함수는 믹서를 생각하면 쉽다. 믹서에 과일을 넣고 믹서를 사용해서 과일을 갈아 주스를 만든다. 우리가 믹서에 넣는 과일은 '입력', 과일 주스는 '출력(결괏값)'이 된다.

## 함수를 사용하는 이유는 무엇일까?

프로그래밍을 하다 보면 똑같은 내용을 반복해서 작성할 때가 종종 있다. 이때가 바로 함수가 필요한 때이다. 즉, 반복되는 부분이 있을 경우, '반복적으로 사용되는 가치 있는 부분'을 한 뭉치로 묶어 '어떤 입력값을 주었을 때 어떤 결괏값을 리턴해 준다'라는 식의 함수로 작성하는 것이다.

또 다른 이유는 자신이 작성한 프로그램을 기능 단위의 함수로 분리해 놓으면 프로그램 흐름을 일목요연하게 볼 수 있기 때문이다.

## 파이썬 함수의 구조

```python
def 함수_이름(매개변수):
    수행할_문장1
    수행할_문장2
    ...
```

def는 함수를 만들 때 사용하는 예약어이며, 함수 이름은 함수를 만드는 사람이 임의로 만들 수 있다. 함수 이름 뒤 괄호 안의 매개변수는 이 함수에 입력으로 전달되는 값을 받는 변수이다.

```python
def add(a, b):
    return a + b
```

위 함수는 다음과 같이 풀이된다.

```
이 함수의 이름은 add이고 입력으로 2개의 값을 받으며 리턴값(출력값)은 2개의 입력값을 더한 값이다.
```

여기에서 return은 함수의 결괏값(리턴값)을 리턴하는 명령어이다.

```python
>>> def add(a, b):
...     return a + b
...
>>> a = 3
>>> b = 4
>>> c = add(a, b) # add(3, 4)의 리턴값을 c에 대입
>>> print(c)
7
```

변수 a에 3, b에 4를 대입한 후 앞에서 만든 add 함수에 a와 b를 입력값으로 넣어준다. 변수 c에 add 함수의 리턴값을 대입하면 print(c)로 값을 확인할 수 있다.
 
## 매개변수와 인수

매개변수는 함수에 입력으로 전달된 값을 받는 변수, 인수는 함수를 호출할 때 전달하는 입력값을 의미한다.

```python
def add(a, b) # a, b는 매개변수
    return a + b

print(add(3, 4)) # 3, 4는 인수
```

## 입력값과 리턴값에 따른 함수의 형태

함수는 들어온 입력값을 받은 후 어떤 처리를 하여 적절한 값을 리턴해준다.

함수의 형태는 입력값과 리턴값의 존재 유뮤에 따라 4가지 유형으로 나뉜다.

### 일반적인 함수

입력값이 있고 리턴값이 있는 함수가 일반적인 함수이다.

```python
def 함수_이름(매개변수):
    수행할_문장
    ...
    return 리턴값
```

다음은 일반적인 함수의 전형적인 예이다.

```python
def add(a, b):
    result = a + b
    return result
```

add 함수는 2개의 입력값을 받아 서로 더한 결괏값을 리턴한다.

이 함수를 사용하는 방법은 다음과 같다.

```python
>>> a = add(3, 4)
>>> print(a)
7
```

이처럼 입력값과 리턴값이 있는 함수의 사용법을 정리하면 다음과 같다.

```
리턴값을_받을_변수 = 함수_이름(입력_인수1, 입력_인수2, ...)
```

### 입력값이 없는 함수

```python
>>> def say():
...     return 'Hi'
```

say라는 이름의 함수를 만들었다. 그런데 매개변수 부분을 나타내는 함수 이름 뒤의 괄호 안이 비어있다. 이 함수는 어떻게 사용할까?

```python
>>> a = say()
>>> print(a)
Hi
```

위 함수를 쓰기 위해서는 say()처럼 괄호 안에 아무런 값도 넣지 않아야 한다. 이 함수는 입력값은 없지만, 리턴값으로 "Hi"라는 문자열을 리턴한다.

입력값이 없고 리턴값만 있는 함수는 다음과 같이 사용한다.

```
리턴값을_받을_변수 = 함수_이름()
```

### 리턴값이 없는 함수

리턴값이 없는 함수 역시 존재한다.

```python
>>> def add(a, b):
...     print(f"{a, b}의 합은 {a + b}입니다.")
```

리턴값이 없는 함수는 호출해도 리턴값이 없기 때문에 다음과 같이 사용한다.

```python
>>> add(3, 4)
3, 4의 합은 7입니다.
```

즉, 리턴값이 없는 함수는 다음과 같이 사용한다.

```
함수_이름(입력_인수1, 입력_인수2, ...)
```

근데 문장을 출력했는데 왜 리턴값이 없다는걸까? print 문은 함수의 구성 요소 중인 하나인 '수행할_문장'에 해당하는 부분일 뿐이다. 리턴값은 오직 return 명령어로만 돌려받을 수 있다.

## 입력값도, 리턴값도 없는 함수

입력값도, 리턴값도 없는 함수 역시 존재한다.

```python
>>> def say():
...     print("Hi")
```

입력 인수를 받는 매개변수도 없고 return 문도 없으니 입력값도, 리턴값도 없는 함수이다.

이 함수를 사용하는 방법은 단 1가지이다.

```python
>>> say()
Hi
```

즉, 입력값도, 리턴값도 없는 함수는 다음과 같이 사용한다.

```
함수_이름()
```

## 매개변수를 지정하여 호출하기

함수를 호출할 때 매개변수를 지정할 수도 있다.

```python
>>> def sub(a, b):
...     return a - b
```

이 함수는 다음과 같이 매개변수를 지정하여 사용할 수 있다.

```python
>>> result = sub(a=7, b=3)
>>> print(reslut)
4
```

## 입력값이 몇 개가 될지 모를 때는 어떻게 해야 할까?

몇 개가 입력될지 모를 때는 어떻게 해야 할까?

```
def 함수_이름(*매개변수):
    수행할_문장
    ...
```

괄호 안의 매개변수 부분이 `*매개변수`로 바뀌었다.

### 여러 개의 입력값을 받는 함수 만들기

```python
>>> def add_many(*args):
...     result = 0
...     for i in args:
...         result += i
...     return reslut
```

위에서 만든 add_many 함수는 입력값이 몇 개이든 상관없다. `*args`처럼 매개변수 이름 앞에 `*`을 붙이면 입력값을 전부 모아 튜플로 만들어 주기 때문이다. 여기에서 `*args`는 임의로 정한 변수 이름이다.

```python
>>> result = add_many(1, 2, 3)
>>> print(reslut)
6
>>> result = add_many(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
>>> print(result)
55
```

여러 개읩 입력을 처리할 때 `def add_many(*args)`처럼 함수의 매개변수로 `*args` 하나만 사용할 수 있는 것은 아니다.

```python
def add_mul(choice, *args):
    if choice == 'add':
        result = 0
        for i in args:
            result += i
    elif choice == 'mul':
        result = 1
        for i in args:
            result += i
        return result
```

이 함수는 다음과 같이 사용할 수 있다.

```python
>>> result = add_mul('add', 1,2,3,4,5)
>>> print(result)
15
>>> result = add_mul('mul', 1,2,3,4,5)
>>> print(result)
120
```

### 키워드 매개변수, kwargs

이번에는 키워드 매개변수에 대해 알아보자. 키워드 매개변수를 사용할 때는 매개변수 앞에 별 2개(**)를 붙인다.

```python
>>> def print_kwargs(**kwargs):
...     print(kwargs)
```

함수를 다음과 같이 사용해 보자.

```python
>>> print_kwargs(a=1)
{'a': 1}
>>> print_kwargs(name='food', age=3)
{'age': 3, 'name': 'food'}
```

함수의 입력값으로 `a=1`이 사용되면 kwargs는 `{'a': 1}`이라는 딕셔너리가 된다. 즉, `**kwargs` 이름 앞에 `**`를 붙이면 매개변수는 딕셔너리가 되고 모든 Key=Value 형태의 입력값이 그 딕셔너리에 저장된다.

## 함수의 리턴값은 언제나 하나이다

```python
>>> def add_and_mul(a, b):
...     return a+b, a*b
```

이 함수를 다음과 같이 호출하면 어떻게 될까?

```python
>>> result = add_and_mul(3, 4)
```

함수의 리턴값은 언제나 1개이다. add_adn_mul 함수의 리턴값 `a+b`와 `a*b`는 튜플값 하나인 `(a+b, a*b)`로 리턴된다.

따라서 result 변수는 다음과 같은 값을 가지게 된다.

```python
result = (7, 12)
```

즉, 결괏값으로 (7, 12)라는 튜플 값을 가지게 된다.

만약 이 하나의 튜플 값을 2개의 값으로 분리하여 받고 싶다면 다음과 같이 호출하면 된다.

```python
>>> result1, result2 = add_and_mul(3, 4)
```

이렇게 호출하면 result1은 7, result2는 12가 된다.

## 매개변수에 초깃값 미리 설정하기

함수의 인수를 전달하는 방법에 대해 알아보자. 다음은 매개변수에 초깃값을 미리 설정해 주는 경우이다.

```python
# default1.py
def say_myself(name, age, man=True):
    print(f"나의 이름은 {name} 입니다.")
    print(f"나이는 {age}살입니다.")
    if man:
        print("남자입니다.")
    else:
        print("여자입니다.")
```

`man=True`처럼 매개변수에 미리 값을 넣어주었다.

say_myself 함수는 다음처럼 2가지 방법으로 사용할 수 있다.

```python
say_myself("김은후", 18)
```

```python
say_myself("김은후", 18, True)
```

man이라는 변수에는 입력값을 주지 않았지만, man은 초깃값 True를 갖게 된다.

초깃값을 설정할 때 주의할 것이 있다.

```python
# default2.py
def say_myself(name, man=True, age): 
    print(f"나의 이름은 {name} 입니다.") 
    print(f"나이는 {age}살입니다.") 
    if man: 
        print("남자입니다.") 
    else: 
        print("여자입니다.")
```

이전 함수와 바뀐 부분은 초깃값을 설정한 매개변수의 위치이다. 결론을 미리 말하면 이것은 함수를 실행할 때 오류가 발생한다.

파이썬 인터프리터는 man 매개변수와 age 매개변수 중 어느 곳에 대입해야 할지 판단하기 여려우므로 이러한 상황에서는 오류가 발생한다.

> 초기화하고 싶은 매개변수는 항상 뒤쪽에 놓아야 한다.

## 함수 안에서 선언한 변수의 효력 범위

함수 안에서 사용할 변수의 이름을 함수 밖에서도 동일하게 사용한다면 어떻게 될까?

```python
a = 1
def vartest(a):
    a += 1

vartest(a)
print(a)
```

입력으로 들어온 값에 1을 더해 주고 결괏값은 리턴하기 않은 vartest 함수를 선언했다. 그리고 vartest 함수에 입력값으로 a를 주었다. 마지막으로 a의 값을 print(a)러 출력했다. 어떤 값이 출력될까?

vartest 함수에서 매개변수 a의 값에 1을 더했으므로 2가 출력될 것 같지만, 프로그램 소스를 작성해서 실행해 보면 결괏값을 1이 나온다.
그 이유는 함수 안에서 사용하는 매개변수는 함수 안에서만 사용하는 '함수만의 변수'이기 때문이다. 즉 `def vartest(a)`에서 입력값을 전달받는 매개변수 a는 함수 안에서만 사용하는 변수일 뿐, 함수 밖의 변수 a와는 전혀 상관없다는 뜻이다.

## 함수 안에서 함수 밖의 변수를 변경하는 방법

vartest라는 함수를 사용해서 함수 밖의 변수 a를 1만큼 증가할 수 있는 방법은 없을까?

### 1. return 사용하기

```python
a = 1
def vartest(a):
    a += 1
    return a
a = vartest(a)
print(a)
```

첫 번째 방법은 return을 사용하는 방법이다. vartest 함수는 입력으로 들어온 값에 1을 더한 값을 리턴하도록 변경했다.

### 2. global 명령어 사용하기

```python
a = 1
def vartest():
    global a
    a += 1

vartest()
print(a)
```

두 번째 방법은 global 명령어를 사용하는 방법이다. 위 예에서 볼 수 있듯이 vartest 함수 안의 global a 문자은 함수 안에서 함수 밖의 a 변수를 직접 사용하겠다는 뜻이다.

## lambda 예약어

lambda는 함수를 생성할 때 사용하는 예약어로, def와 동일한 역할을 한다. 우리말로는 '람다'라고 읽고 def를 사용해야 할 정도로 복잡하지 않거나 def를 사용할 수 없는 곳에 주로 쓰인다.

사용법은 다음과 같다.

```
함수_이름 = lambda 매개변수1, 매개변수2, ...: 매개변수를_이용한_표현식
```

> lambda로 만든 함수는 return 명령어가 없어도 표현식의 결괏값을 리턴한다.




